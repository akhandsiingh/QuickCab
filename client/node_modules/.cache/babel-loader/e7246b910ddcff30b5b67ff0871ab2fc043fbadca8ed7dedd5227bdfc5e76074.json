{"ast":null,"code":"var _jsxFileName = \"D:\\\\mern\\\\cab-booking-app\\\\client\\\\src\\\\pages\\\\BookCab.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Map from \"../components/Map\";\nimport { indianCities } from \"../data/indian-cities\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookCab = () => {\n  _s();\n  const [pickup, setPickup] = useState(null);\n  const [destination, setDestination] = useState(null);\n  const [pickupAddress, setPickupAddress] = useState(\"\");\n  const [destinationAddress, setDestinationAddress] = useState(\"\");\n  const [pickupSuggestions, setPickupSuggestions] = useState([]);\n  const [destinationSuggestions, setDestinationSuggestions] = useState([]);\n  const [cabOptions, setCabOptions] = useState([]);\n  const [selectedCab, setSelectedCab] = useState(null);\n  const [fare, setFare] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [duration, setDuration] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [showMap, setShowMap] = useState(false);\n  const [locationEntered, setLocationEntered] = useState(false);\n  const [driverLocation, setDriverLocation] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Fetch cab options when component mounts\n    const fetchCabOptions = async () => {\n      try {\n        // For demo purposes, we'll create some sample cab options\n        const sampleCabs = [{\n          id: \"1\",\n          name: \"Economy\",\n          description: \"Affordable rides for everyday use\",\n          capacity: 4,\n          baseFare: 50,\n          perKmRate: 12,\n          perMinuteRate: 2,\n          image: \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\"\n        }, {\n          id: \"2\",\n          name: \"Premium\",\n          description: \"Comfortable rides with extra space\",\n          capacity: 4,\n          baseFare: 80,\n          perKmRate: 15,\n          perMinuteRate: 3,\n          image: \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\"\n        }, {\n          id: \"3\",\n          name: \"SUV\",\n          description: \"Spacious vehicles for groups\",\n          capacity: 6,\n          baseFare: 100,\n          perKmRate: 18,\n          perMinuteRate: 4,\n          image: \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\"\n        }];\n        setCabOptions(sampleCabs);\n      } catch (err) {\n        console.error(\"Error fetching cab options:\", err);\n        setError(\"Failed to load cab options\");\n      }\n    };\n    fetchCabOptions();\n  }, []);\n\n  // Handle input change for pickup location\n  const handlePickupChange = e => {\n    const value = e.target.value;\n    setPickupAddress(value);\n    if (value.length > 1) {\n      // Filter cities that match the input\n      const filteredCities = indianCities.filter(city => city.name.toLowerCase().includes(value.toLowerCase()) || city.state.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Limit to 5 suggestions\n\n      setPickupSuggestions(filteredCities);\n    } else {\n      setPickupSuggestions([]);\n    }\n  };\n\n  // Handle input change for destination\n  const handleDestinationChange = e => {\n    const value = e.target.value;\n    setDestinationAddress(value);\n    if (value.length > 1) {\n      // Filter cities that match the input\n      const filteredCities = indianCities.filter(city => city.name.toLowerCase().includes(value.toLowerCase()) || city.state.toLowerCase().includes(value.toLowerCase())).slice(0, 5); // Limit to 5 suggestions\n\n      setDestinationSuggestions(filteredCities);\n    } else {\n      setDestinationSuggestions([]);\n    }\n  };\n\n  // Handle selection of a city from suggestions\n  const handleSelectCity = (city, type) => {\n    if (type === \"pickup\") {\n      setPickupAddress(`${city.name}, ${city.state}`);\n      setPickup({\n        lat: city.lat,\n        lng: city.lng\n      });\n      setPickupSuggestions([]);\n    } else {\n      setDestinationAddress(`${city.name}, ${city.state}`);\n      setDestination({\n        lat: city.lat,\n        lng: city.lng\n      });\n      setDestinationSuggestions([]);\n    }\n  };\n  const handleLocationSelect = (type, location) => {\n    if (type === \"pickup\") {\n      setPickup(location);\n      // Find the closest city to the selected location\n      const closestCity = findClosestCity(location);\n      if (closestCity) {\n        setPickupAddress(`${closestCity.name}, ${closestCity.state}`);\n      }\n    } else if (type === \"destination\") {\n      setDestination(location);\n      // Find the closest city to the selected location\n      const closestCity = findClosestCity(location);\n      if (closestCity) {\n        setDestinationAddress(`${closestCity.name}, ${closestCity.state}`);\n      }\n    }\n  };\n\n  // Find the closest city to a given location\n  const findClosestCity = location => {\n    let closestCity = null;\n    let minDistance = Number.POSITIVE_INFINITY;\n    indianCities.forEach(city => {\n      const distance = calculateHaversineDistance(location.lat, location.lng, city.lat, city.lng);\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestCity = city;\n      }\n    });\n    return closestCity;\n  };\n\n  // Function to calculate distance between two coordinates using Haversine formula\n  const calculateHaversineDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c; // Distance in km\n    return distance;\n  };\n  const handleFindCabs = () => {\n    // Simple validation\n    if (!pickup || !destination) {\n      setError(\"Please select both pickup and destination cities\");\n      return;\n    }\n    setLocationEntered(true);\n    calculateFareWithCoordinates(pickup, destination);\n\n    // Simulate driver location (halfway between pickup and destination)\n    setTimeout(() => {\n      const driverLat = (pickup.lat + destination.lat) / 2;\n      const driverLng = (pickup.lng + destination.lng) / 2;\n\n      // Add a slight random offset to make it more realistic\n      const latOffset = (Math.random() - 0.5) * 0.05;\n      const lngOffset = (Math.random() - 0.5) * 0.05;\n      setDriverLocation({\n        lat: driverLat + latOffset,\n        lng: driverLng + lngOffset\n      });\n    }, 1000);\n  };\n  const calculateFareWithCoordinates = (pickupCoords, destCoords) => {\n    // Calculate actual distance using Haversine formula\n    const distanceInKm = calculateHaversineDistance(pickupCoords.lat, pickupCoords.lng, destCoords.lat, destCoords.lng);\n\n    // Round to 2 decimal places\n    const finalDistance = Math.round(distanceInKm * 100) / 100;\n\n    // Calculate duration (roughly 1.5 minutes per km for long distances)\n    const durationInMinutes = Math.ceil(finalDistance * 1.5);\n    setDistance(finalDistance);\n    setDuration(durationInMinutes);\n\n    // Calculate fare for each cab type\n    const updatedCabOptions = cabOptions.map(cab => {\n      // Base fare + per km rate + per minute rate\n      // For long distances, we'll apply a discount factor\n      const distanceFactor = finalDistance > 100 ? 0.8 : 1; // 20% discount for long trips\n      const calculatedFare = cab.baseFare + finalDistance * cab.perKmRate * distanceFactor + durationInMinutes * cab.perMinuteRate;\n      return {\n        ...cab,\n        calculatedFare: Math.ceil(calculatedFare) // Round up to nearest rupee\n      };\n    });\n    setCabOptions(updatedCabOptions);\n\n    // If a cab is already selected, update its fare\n    if (selectedCab) {\n      const selectedCabUpdated = updatedCabOptions.find(cab => cab.id === selectedCab.id);\n      if (selectedCabUpdated) {\n        setSelectedCab(selectedCabUpdated);\n        setFare(selectedCabUpdated.calculatedFare);\n      }\n    }\n  };\n  const handleCabSelect = cab => {\n    setSelectedCab(cab);\n    setFare(cab.calculatedFare);\n  };\n  const handleBooking = async () => {\n    if (!pickup || !destination || !selectedCab) {\n      setError(\"Please select pickup, destination and cab type\");\n      return;\n    }\n    try {\n      setLoading(true);\n\n      // In a real app, you would send this data to your API\n      const bookingData = {\n        pickup: {\n          coordinates: pickup,\n          address: pickupAddress\n        },\n        destination: {\n          coordinates: destination,\n          address: destinationAddress\n        },\n        cabType: selectedCab.id,\n        fare: fare,\n        distance: distance,\n        duration: duration,\n        driverLocation: driverLocation\n      };\n      console.log(\"Booking data:\", bookingData);\n\n      // Simulate API call\n      setTimeout(() => {\n        // Generate a random booking ID\n        const bookingId = Math.floor(Math.random() * 1000000);\n        // Store booking data in sessionStorage so it can be accessed on the ride details page\n        sessionStorage.setItem(\"currentBooking\", JSON.stringify(bookingData));\n        navigate(`/ride/${bookingId}`);\n      }, 1500);\n    } catch (err) {\n      console.error(\"Error booking cab:\", err);\n      setError(\"Failed to book cab. Please try again.\");\n      setLoading(false);\n    }\n  };\n\n  // Format duration for display\n  const formatDuration = minutes => {\n    if (!minutes) return \"\";\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    if (hours > 0) {\n      return `${hours} ${hours === 1 ? \"hour\" : \"hours\"}${mins > 0 ? ` ${mins} min` : \"\"}`;\n    }\n    return `${mins} minutes`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-cab-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"form-title\",\n      children: \"Book a Cab\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"location-inputs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"pickup-input\",\n          children: \"Pickup City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"autocomplete-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"pickup-input\",\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Enter pickup city\",\n            value: pickupAddress,\n            onChange: handlePickupChange,\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), pickupSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: pickupSuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => handleSelectCity(city, \"pickup\"),\n              children: [city.name, \", \", city.state]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"destination-input\",\n          children: \"Destination City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"autocomplete-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"destination-input\",\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Enter destination city\",\n            value: destinationAddress,\n            onChange: handleDestinationChange,\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), destinationSuggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"suggestions-list\",\n            children: destinationSuggestions.map((city, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => handleSelectCity(city, \"destination\"),\n              children: [city.name, \", \", city.state]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleFindCabs,\n          disabled: !pickup || !destination,\n          children: \"Find Cabs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setShowMap(!showMap),\n          children: showMap ? \"Hide Map\" : \"Show Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), showMap && /*#__PURE__*/_jsxDEV(Map, {\n      pickup: pickup,\n      destination: destination,\n      driverLocation: driverLocation,\n      onLocationSelect: handleLocationSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 9\n    }, this), locationEntered && distance && duration && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trip-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trip-info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-label\",\n          children: \"Distance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-value\",\n          children: [distance.toFixed(2), \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trip-info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-label\",\n          children: \"Estimated Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-value\",\n          children: formatDuration(duration)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this), driverLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trip-info-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-label\",\n          children: \"Driver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"trip-info-value\",\n          style: {\n            color: \"#22c55e\"\n          },\n          children: \"Available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 9\n    }, this), driverLocation && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"driver-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\",\n        alt: \"Driver\",\n        style: {\n          width: \"60px\",\n          height: \"60px\",\n          borderRadius: \"50%\",\n          marginRight: \"16px\",\n          objectFit: \"cover\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"driver-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: \"0 0 4px\",\n            fontSize: \"18px\"\n          },\n          children: \"Rahul Kumar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: \"0 0 8px\",\n            fontSize: \"14px\",\n            color: \"#64748b\"\n          },\n          children: \"Maruti Swift \\xB7 DL-01-AB-1234\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"driver-contact\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"driver-contact-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"driver-contact-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }, this), locationEntered && cabOptions.length > 0 && distance && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: \"24px 0 16px\",\n          fontSize: \"20px\"\n        },\n        children: \"Select Cab Type\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cab-options\",\n        children: cabOptions.map(cab => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `cab-option ${selectedCab && selectedCab.id === cab.id ? \"selected\" : \"\"}`,\n          onClick: () => handleCabSelect(cab),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cab-option-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"cab-option-name\",\n              children: cab.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"cab-option-price\",\n              children: [\"\\u20B9\", cab.calculatedFare]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cab-option-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: cab.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Capacity: \", cab.capacity, \" persons\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 17\n          }, this)]\n        }, cab.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), selectedCab && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Booking Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Cab Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value\",\n          children: selectedCab.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Pickup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value\",\n          children: pickupAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Destination\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value\",\n          children: destinationAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Distance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value\",\n          children: [distance.toFixed(2), \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Estimated Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-value\",\n          children: formatDuration(duration)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"summary-label\",\n          children: \"Fare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"fare-value\",\n          children: [\"\\u20B9\", fare]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary btn-block\",\n        onClick: handleBooking,\n        disabled: loading,\n        children: loading ? \"Processing...\" : \"Book Now\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 311,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCab, \"rAEQZj4WpotodsVN73Ll9+3PDeY=\", false, function () {\n  return [useNavigate];\n});\n_c = BookCab;\nexport default BookCab;\nvar _c;\n$RefreshReg$(_c, \"BookCab\");","map":{"version":3,"names":["useState","useEffect","useNavigate","Map","indianCities","jsxDEV","_jsxDEV","Fragment","_Fragment","BookCab","_s","pickup","setPickup","destination","setDestination","pickupAddress","setPickupAddress","destinationAddress","setDestinationAddress","pickupSuggestions","setPickupSuggestions","destinationSuggestions","setDestinationSuggestions","cabOptions","setCabOptions","selectedCab","setSelectedCab","fare","setFare","distance","setDistance","duration","setDuration","loading","setLoading","error","setError","showMap","setShowMap","locationEntered","setLocationEntered","driverLocation","setDriverLocation","navigate","fetchCabOptions","sampleCabs","id","name","description","capacity","baseFare","perKmRate","perMinuteRate","image","err","console","handlePickupChange","e","value","target","length","filteredCities","filter","city","toLowerCase","includes","state","slice","handleDestinationChange","handleSelectCity","type","lat","lng","handleLocationSelect","location","closestCity","findClosestCity","minDistance","Number","POSITIVE_INFINITY","forEach","calculateHaversineDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","handleFindCabs","calculateFareWithCoordinates","setTimeout","driverLat","driverLng","latOffset","random","lngOffset","pickupCoords","destCoords","distanceInKm","finalDistance","round","durationInMinutes","ceil","updatedCabOptions","map","cab","distanceFactor","calculatedFare","selectedCabUpdated","find","handleCabSelect","handleBooking","bookingData","coordinates","address","cabType","log","bookingId","floor","sessionStorage","setItem","JSON","stringify","formatDuration","minutes","hours","mins","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","placeholder","onChange","autoComplete","index","onClick","disabled","onLocationSelect","toFixed","style","color","src","alt","width","height","borderRadius","marginRight","objectFit","margin","fontSize","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","_c","$RefreshReg$"],"sources":["D:/mern/cab-booking-app/client/src/pages/BookCab.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Map from \"../components/Map\";\nimport { indianCities } from \"../data/indian-cities\";\n\nconst BookCab = () => {\n  const [pickup, setPickup] = useState(null);\n  const [destination, setDestination] = useState(null);\n  const [pickupAddress, setPickupAddress] = useState(\"\");\n  const [destinationAddress, setDestinationAddress] = useState(\"\");\n  const [pickupSuggestions, setPickupSuggestions] = useState([]);\n  const [destinationSuggestions, setDestinationSuggestions] = useState([]);\n  const [cabOptions, setCabOptions] = useState([]);\n  const [selectedCab, setSelectedCab] = useState(null);\n  const [fare, setFare] = useState(null);\n  const [distance, setDistance] = useState(null);\n  const [duration, setDuration] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [showMap, setShowMap] = useState(false);\n  const [locationEntered, setLocationEntered] = useState(false);\n  const [driverLocation, setDriverLocation] = useState(null);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Fetch cab options when component mounts\n    const fetchCabOptions = async () => {\n      try {\n        // For demo purposes, we'll create some sample cab options\n        const sampleCabs = [\n          {\n            id: \"1\",\n            name: \"Economy\",\n            description: \"Affordable rides for everyday use\",\n            capacity: 4,\n            baseFare: 50,\n            perKmRate: 12,\n            perMinuteRate: 2,\n            image:\n              \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\",\n          },\n          {\n            id: \"2\",\n            name: \"Premium\",\n            description: \"Comfortable rides with extra space\",\n            capacity: 4,\n            baseFare: 80,\n            perKmRate: 15,\n            perMinuteRate: 3,\n            image:\n              \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\",\n          },\n          {\n            id: \"3\",\n            name: \"SUV\",\n            description: \"Spacious vehicles for groups\",\n            capacity: 6,\n            baseFare: 100,\n            perKmRate: 18,\n            perMinuteRate: 4,\n            image:\n              \"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\",\n          },\n        ];\n        setCabOptions(sampleCabs);\n      } catch (err) {\n        console.error(\"Error fetching cab options:\", err);\n        setError(\"Failed to load cab options\");\n      }\n    };\n\n    fetchCabOptions();\n  }, []);\n\n  // Handle input change for pickup location\n  const handlePickupChange = (e) => {\n    const value = e.target.value;\n    setPickupAddress(value);\n\n    if (value.length > 1) {\n      // Filter cities that match the input\n      const filteredCities = indianCities\n        .filter(\n          (city) =>\n            city.name.toLowerCase().includes(value.toLowerCase()) ||\n            city.state.toLowerCase().includes(value.toLowerCase()),\n        )\n        .slice(0, 5); // Limit to 5 suggestions\n\n      setPickupSuggestions(filteredCities);\n    } else {\n      setPickupSuggestions([]);\n    }\n  };\n\n  // Handle input change for destination\n  const handleDestinationChange = (e) => {\n    const value = e.target.value;\n    setDestinationAddress(value);\n\n    if (value.length > 1) {\n      // Filter cities that match the input\n      const filteredCities = indianCities\n        .filter(\n          (city) =>\n            city.name.toLowerCase().includes(value.toLowerCase()) ||\n            city.state.toLowerCase().includes(value.toLowerCase()),\n        )\n        .slice(0, 5); // Limit to 5 suggestions\n\n      setDestinationSuggestions(filteredCities);\n    } else {\n      setDestinationSuggestions([]);\n    }\n  };\n\n  // Handle selection of a city from suggestions\n  const handleSelectCity = (city, type) => {\n    if (type === \"pickup\") {\n      setPickupAddress(`${city.name}, ${city.state}`);\n      setPickup({\n        lat: city.lat,\n        lng: city.lng,\n      });\n      setPickupSuggestions([]);\n    } else {\n      setDestinationAddress(`${city.name}, ${city.state}`);\n      setDestination({\n        lat: city.lat,\n        lng: city.lng,\n      });\n      setDestinationSuggestions([]);\n    }\n  };\n\n  const handleLocationSelect = (type, location) => {\n    if (type === \"pickup\") {\n      setPickup(location);\n      // Find the closest city to the selected location\n      const closestCity = findClosestCity(location);\n      if (closestCity) {\n        setPickupAddress(`${closestCity.name}, ${closestCity.state}`);\n      }\n    } else if (type === \"destination\") {\n      setDestination(location);\n      // Find the closest city to the selected location\n      const closestCity = findClosestCity(location);\n      if (closestCity) {\n        setDestinationAddress(`${closestCity.name}, ${closestCity.state}`);\n      }\n    }\n  };\n\n  // Find the closest city to a given location\n  const findClosestCity = (location) => {\n    let closestCity = null;\n    let minDistance = Number.POSITIVE_INFINITY;\n\n    indianCities.forEach((city) => {\n      const distance = calculateHaversineDistance(location.lat, location.lng, city.lat, city.lng);\n\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestCity = city;\n      }\n    });\n\n    return closestCity;\n  };\n\n  // Function to calculate distance between two coordinates using Haversine formula\n  const calculateHaversineDistance = (lat1, lon1, lat2, lon2) => {\n    const R = 6371; // Radius of the Earth in km\n    const dLat = ((lat2 - lat1) * Math.PI) / 180;\n    const dLon = ((lon2 - lon1) * Math.PI) / 180;\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos((lat1 * Math.PI) / 180) * Math.cos((lat2 * Math.PI) / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    const distance = R * c; // Distance in km\n    return distance;\n  };\n\n  const handleFindCabs = () => {\n    // Simple validation\n    if (!pickup || !destination) {\n      setError(\"Please select both pickup and destination cities\");\n      return;\n    }\n\n    setLocationEntered(true);\n    calculateFareWithCoordinates(pickup, destination);\n\n    // Simulate driver location (halfway between pickup and destination)\n    setTimeout(() => {\n      const driverLat = (pickup.lat + destination.lat) / 2;\n      const driverLng = (pickup.lng + destination.lng) / 2;\n\n      // Add a slight random offset to make it more realistic\n      const latOffset = (Math.random() - 0.5) * 0.05;\n      const lngOffset = (Math.random() - 0.5) * 0.05;\n\n      setDriverLocation({\n        lat: driverLat + latOffset,\n        lng: driverLng + lngOffset,\n      });\n    }, 1000);\n  };\n\n  const calculateFareWithCoordinates = (pickupCoords, destCoords) => {\n    // Calculate actual distance using Haversine formula\n    const distanceInKm = calculateHaversineDistance(pickupCoords.lat, pickupCoords.lng, destCoords.lat, destCoords.lng);\n\n    // Round to 2 decimal places\n    const finalDistance = Math.round(distanceInKm * 100) / 100;\n\n    // Calculate duration (roughly 1.5 minutes per km for long distances)\n    const durationInMinutes = Math.ceil(finalDistance * 1.5);\n\n    setDistance(finalDistance);\n    setDuration(durationInMinutes);\n\n    // Calculate fare for each cab type\n    const updatedCabOptions = cabOptions.map((cab) => {\n      // Base fare + per km rate + per minute rate\n      // For long distances, we'll apply a discount factor\n      const distanceFactor = finalDistance > 100 ? 0.8 : 1; // 20% discount for long trips\n      const calculatedFare =\n        cab.baseFare + finalDistance * cab.perKmRate * distanceFactor + durationInMinutes * cab.perMinuteRate;\n      return {\n        ...cab,\n        calculatedFare: Math.ceil(calculatedFare), // Round up to nearest rupee\n      };\n    });\n\n    setCabOptions(updatedCabOptions);\n\n    // If a cab is already selected, update its fare\n    if (selectedCab) {\n      const selectedCabUpdated = updatedCabOptions.find((cab) => cab.id === selectedCab.id);\n      if (selectedCabUpdated) {\n        setSelectedCab(selectedCabUpdated);\n        setFare(selectedCabUpdated.calculatedFare);\n      }\n    }\n  };\n\n  const handleCabSelect = (cab) => {\n    setSelectedCab(cab);\n    setFare(cab.calculatedFare);\n  };\n\n  const handleBooking = async () => {\n    if (!pickup || !destination || !selectedCab) {\n      setError(\"Please select pickup, destination and cab type\");\n      return;\n    }\n\n    try {\n      setLoading(true);\n\n      // In a real app, you would send this data to your API\n      const bookingData = {\n        pickup: {\n          coordinates: pickup,\n          address: pickupAddress,\n        },\n        destination: {\n          coordinates: destination,\n          address: destinationAddress,\n        },\n        cabType: selectedCab.id,\n        fare: fare,\n        distance: distance,\n        duration: duration,\n        driverLocation: driverLocation,\n      };\n\n      console.log(\"Booking data:\", bookingData);\n\n      // Simulate API call\n      setTimeout(() => {\n        // Generate a random booking ID\n        const bookingId = Math.floor(Math.random() * 1000000);\n        // Store booking data in sessionStorage so it can be accessed on the ride details page\n        sessionStorage.setItem(\"currentBooking\", JSON.stringify(bookingData));\n        navigate(`/ride/${bookingId}`);\n      }, 1500);\n    } catch (err) {\n      console.error(\"Error booking cab:\", err);\n      setError(\"Failed to book cab. Please try again.\");\n      setLoading(false);\n    }\n  };\n\n  // Format duration for display\n  const formatDuration = (minutes) => {\n    if (!minutes) return \"\";\n\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n\n    if (hours > 0) {\n      return `${hours} ${hours === 1 ? \"hour\" : \"hours\"}${mins > 0 ? ` ${mins} min` : \"\"}`;\n    }\n    return `${mins} minutes`;\n  };\n\n  return (\n    <div className=\"book-cab-container\">\n      <h2 className=\"form-title\">Book a Cab</h2>\n\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n\n      <div className=\"location-inputs\">\n        <div className=\"form-group\">\n          <label htmlFor=\"pickup-input\">Pickup City</label>\n          <div className=\"autocomplete-container\">\n            <input\n              id=\"pickup-input\"\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Enter pickup city\"\n              value={pickupAddress}\n              onChange={handlePickupChange}\n              autoComplete=\"off\"\n            />\n            {pickupSuggestions.length > 0 && (\n              <ul className=\"suggestions-list\">\n                {pickupSuggestions.map((city, index) => (\n                  <li key={index} onClick={() => handleSelectCity(city, \"pickup\")}>\n                    {city.name}, {city.state}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"destination-input\">Destination City</label>\n          <div className=\"autocomplete-container\">\n            <input\n              id=\"destination-input\"\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Enter destination city\"\n              value={destinationAddress}\n              onChange={handleDestinationChange}\n              autoComplete=\"off\"\n            />\n            {destinationSuggestions.length > 0 && (\n              <ul className=\"suggestions-list\">\n                {destinationSuggestions.map((city, index) => (\n                  <li key={index} onClick={() => handleSelectCity(city, \"destination\")}>\n                    {city.name}, {city.state}\n                  </li>\n                ))}\n              </ul>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form-actions\">\n          <button className=\"btn btn-primary\" onClick={handleFindCabs} disabled={!pickup || !destination}>\n            Find Cabs\n          </button>\n\n          <button className=\"btn btn-secondary\" onClick={() => setShowMap(!showMap)}>\n            {showMap ? \"Hide Map\" : \"Show Map\"}\n          </button>\n        </div>\n      </div>\n\n      {showMap && (\n        <Map\n          pickup={pickup}\n          destination={destination}\n          driverLocation={driverLocation}\n          onLocationSelect={handleLocationSelect}\n        />\n      )}\n\n      {locationEntered && distance && duration && (\n        <div className=\"trip-info\">\n          <div className=\"trip-info-item\">\n            <span className=\"trip-info-label\">Distance</span>\n            <span className=\"trip-info-value\">{distance.toFixed(2)} km</span>\n          </div>\n          <div className=\"trip-info-item\">\n            <span className=\"trip-info-label\">Estimated Time</span>\n            <span className=\"trip-info-value\">{formatDuration(duration)}</span>\n          </div>\n          {driverLocation && (\n            <div className=\"trip-info-item\">\n              <span className=\"trip-info-label\">Driver</span>\n              <span className=\"trip-info-value\" style={{ color: \"#22c55e\" }}>\n                Available\n              </span>\n            </div>\n          )}\n        </div>\n      )}\n\n      {driverLocation && (\n        <div className=\"driver-card\">\n          <img\n            src=\"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202025-04-06%20125830-dDLzkNO3haxlHVnSZpJCvJ4kL5UOPO.png\"\n            alt=\"Driver\"\n            style={{\n              width: \"60px\",\n              height: \"60px\",\n              borderRadius: \"50%\",\n              marginRight: \"16px\",\n              objectFit: \"cover\",\n            }}\n          />\n          <div className=\"driver-details\">\n            <h3 style={{ margin: \"0 0 4px\", fontSize: \"18px\" }}>Rahul Kumar</h3>\n            <p style={{ margin: \"0 0 8px\", fontSize: \"14px\", color: \"#64748b\" }}>Maruti Swift · DL-01-AB-1234</p>\n            <div className=\"driver-contact\">\n              <div className=\"driver-contact-btn\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                >\n                  <path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"></path>\n                </svg>\n              </div>\n              <div className=\"driver-contact-btn\">\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"16\"\n                  height=\"16\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                >\n                  <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {locationEntered && cabOptions.length > 0 && distance && (\n        <>\n          <h3 style={{ margin: \"24px 0 16px\", fontSize: \"20px\" }}>Select Cab Type</h3>\n          <div className=\"cab-options\">\n            {cabOptions.map((cab) => (\n              <div\n                key={cab.id}\n                className={`cab-option ${selectedCab && selectedCab.id === cab.id ? \"selected\" : \"\"}`}\n                onClick={() => handleCabSelect(cab)}\n              >\n                <div className=\"cab-option-header\">\n                  <span className=\"cab-option-name\">{cab.name}</span>\n                  <span className=\"cab-option-price\">₹{cab.calculatedFare}</span>\n                </div>\n                <div className=\"cab-option-details\">\n                  <p>{cab.description}</p>\n                  <p>Capacity: {cab.capacity} persons</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n\n      {selectedCab && (\n        <div className=\"booking-summary\">\n          <h3>Booking Summary</h3>\n\n          <p>\n            <span className=\"summary-label\">Cab Type</span>\n            <span className=\"summary-value\">{selectedCab.name}</span>\n          </p>\n          <p>\n            <span className=\"summary-label\">Pickup</span>\n            <span className=\"summary-value\">{pickupAddress}</span>\n          </p>\n          <p>\n            <span className=\"summary-label\">Destination</span>\n            <span className=\"summary-value\">{destinationAddress}</span>\n          </p>\n          <p>\n            <span className=\"summary-label\">Distance</span>\n            <span className=\"summary-value\">{distance.toFixed(2)} km</span>\n          </p>\n          <p>\n            <span className=\"summary-label\">Estimated Time</span>\n            <span className=\"summary-value\">{formatDuration(duration)}</span>\n          </p>\n          <p>\n            <span className=\"summary-label\">Fare</span>\n            <span className=\"fare-value\">₹{fare}</span>\n          </p>\n\n          <button className=\"btn btn-primary btn-block\" onClick={handleBooking} disabled={loading}>\n            {loading ? \"Processing...\" : \"Book Now\"}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BookCab;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,GAAG,MAAM,mBAAmB;AACnC,SAASC,YAAY,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAErD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACiB,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACmB,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACqB,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EACxE,MAAM,CAACuB,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACyB,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC2B,IAAI,EAAEC,OAAO,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC6B,QAAQ,EAAEC,WAAW,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC+B,QAAQ,EAAEC,WAAW,CAAC,GAAGhC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACiC,OAAO,EAAEC,UAAU,CAAC,GAAGlC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmC,KAAK,EAAEC,QAAQ,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqC,OAAO,EAAEC,UAAU,CAAC,GAAGtC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACuC,eAAe,EAAEC,kBAAkB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACyC,cAAc,EAAEC,iBAAiB,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EAE1D,MAAM2C,QAAQ,GAAGzC,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACA,MAAM2C,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF;QACA,MAAMC,UAAU,GAAG,CACjB;UACEC,EAAE,EAAE,GAAG;UACPC,IAAI,EAAE,SAAS;UACfC,WAAW,EAAE,mCAAmC;UAChDC,QAAQ,EAAE,CAAC;UACXC,QAAQ,EAAE,EAAE;UACZC,SAAS,EAAE,EAAE;UACbC,aAAa,EAAE,CAAC;UAChBC,KAAK,EACH;QACJ,CAAC,EACD;UACEP,EAAE,EAAE,GAAG;UACPC,IAAI,EAAE,SAAS;UACfC,WAAW,EAAE,oCAAoC;UACjDC,QAAQ,EAAE,CAAC;UACXC,QAAQ,EAAE,EAAE;UACZC,SAAS,EAAE,EAAE;UACbC,aAAa,EAAE,CAAC;UAChBC,KAAK,EACH;QACJ,CAAC,EACD;UACEP,EAAE,EAAE,GAAG;UACPC,IAAI,EAAE,KAAK;UACXC,WAAW,EAAE,8BAA8B;UAC3CC,QAAQ,EAAE,CAAC;UACXC,QAAQ,EAAE,GAAG;UACbC,SAAS,EAAE,EAAE;UACbC,aAAa,EAAE,CAAC;UAChBC,KAAK,EACH;QACJ,CAAC,CACF;QACD7B,aAAa,CAACqB,UAAU,CAAC;MAC3B,CAAC,CAAC,OAAOS,GAAG,EAAE;QACZC,OAAO,CAACpB,KAAK,CAAC,6BAA6B,EAAEmB,GAAG,CAAC;QACjDlB,QAAQ,CAAC,4BAA4B,CAAC;MACxC;IACF,CAAC;IAEDQ,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMY,kBAAkB,GAAIC,CAAC,IAAK;IAChC,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5B1C,gBAAgB,CAAC0C,KAAK,CAAC;IAEvB,IAAIA,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;MACpB;MACA,MAAMC,cAAc,GAAGzD,YAAY,CAChC0D,MAAM,CACJC,IAAI,IACHA,IAAI,CAAChB,IAAI,CAACiB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CAAC,IACrDD,IAAI,CAACG,KAAK,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CACzD,CAAC,CACAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;MAEhB/C,oBAAoB,CAACyC,cAAc,CAAC;IACtC,CAAC,MAAM;MACLzC,oBAAoB,CAAC,EAAE,CAAC;IAC1B;EACF,CAAC;;EAED;EACA,MAAMgD,uBAAuB,GAAIX,CAAC,IAAK;IACrC,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5BxC,qBAAqB,CAACwC,KAAK,CAAC;IAE5B,IAAIA,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;MACpB;MACA,MAAMC,cAAc,GAAGzD,YAAY,CAChC0D,MAAM,CACJC,IAAI,IACHA,IAAI,CAAChB,IAAI,CAACiB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CAAC,IACrDD,IAAI,CAACG,KAAK,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACP,KAAK,CAACM,WAAW,CAAC,CAAC,CACzD,CAAC,CACAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;MAEhB7C,yBAAyB,CAACuC,cAAc,CAAC;IAC3C,CAAC,MAAM;MACLvC,yBAAyB,CAAC,EAAE,CAAC;IAC/B;EACF,CAAC;;EAED;EACA,MAAM+C,gBAAgB,GAAGA,CAACN,IAAI,EAAEO,IAAI,KAAK;IACvC,IAAIA,IAAI,KAAK,QAAQ,EAAE;MACrBtD,gBAAgB,CAAC,GAAG+C,IAAI,CAAChB,IAAI,KAAKgB,IAAI,CAACG,KAAK,EAAE,CAAC;MAC/CtD,SAAS,CAAC;QACR2D,GAAG,EAAER,IAAI,CAACQ,GAAG;QACbC,GAAG,EAAET,IAAI,CAACS;MACZ,CAAC,CAAC;MACFpD,oBAAoB,CAAC,EAAE,CAAC;IAC1B,CAAC,MAAM;MACLF,qBAAqB,CAAC,GAAG6C,IAAI,CAAChB,IAAI,KAAKgB,IAAI,CAACG,KAAK,EAAE,CAAC;MACpDpD,cAAc,CAAC;QACbyD,GAAG,EAAER,IAAI,CAACQ,GAAG;QACbC,GAAG,EAAET,IAAI,CAACS;MACZ,CAAC,CAAC;MACFlD,yBAAyB,CAAC,EAAE,CAAC;IAC/B;EACF,CAAC;EAED,MAAMmD,oBAAoB,GAAGA,CAACH,IAAI,EAAEI,QAAQ,KAAK;IAC/C,IAAIJ,IAAI,KAAK,QAAQ,EAAE;MACrB1D,SAAS,CAAC8D,QAAQ,CAAC;MACnB;MACA,MAAMC,WAAW,GAAGC,eAAe,CAACF,QAAQ,CAAC;MAC7C,IAAIC,WAAW,EAAE;QACf3D,gBAAgB,CAAC,GAAG2D,WAAW,CAAC5B,IAAI,KAAK4B,WAAW,CAACT,KAAK,EAAE,CAAC;MAC/D;IACF,CAAC,MAAM,IAAII,IAAI,KAAK,aAAa,EAAE;MACjCxD,cAAc,CAAC4D,QAAQ,CAAC;MACxB;MACA,MAAMC,WAAW,GAAGC,eAAe,CAACF,QAAQ,CAAC;MAC7C,IAAIC,WAAW,EAAE;QACfzD,qBAAqB,CAAC,GAAGyD,WAAW,CAAC5B,IAAI,KAAK4B,WAAW,CAACT,KAAK,EAAE,CAAC;MACpE;IACF;EACF,CAAC;;EAED;EACA,MAAMU,eAAe,GAAIF,QAAQ,IAAK;IACpC,IAAIC,WAAW,GAAG,IAAI;IACtB,IAAIE,WAAW,GAAGC,MAAM,CAACC,iBAAiB;IAE1C3E,YAAY,CAAC4E,OAAO,CAAEjB,IAAI,IAAK;MAC7B,MAAMlC,QAAQ,GAAGoD,0BAA0B,CAACP,QAAQ,CAACH,GAAG,EAAEG,QAAQ,CAACF,GAAG,EAAET,IAAI,CAACQ,GAAG,EAAER,IAAI,CAACS,GAAG,CAAC;MAE3F,IAAI3C,QAAQ,GAAGgD,WAAW,EAAE;QAC1BA,WAAW,GAAGhD,QAAQ;QACtB8C,WAAW,GAAGZ,IAAI;MACpB;IACF,CAAC,CAAC;IAEF,OAAOY,WAAW;EACpB,CAAC;;EAED;EACA,MAAMM,0BAA0B,GAAGA,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,IAAI,KAAK;IAC7D,MAAMC,CAAC,GAAG,IAAI,CAAC,CAAC;IAChB,MAAMC,IAAI,GAAI,CAACH,IAAI,GAAGF,IAAI,IAAIM,IAAI,CAACC,EAAE,GAAI,GAAG;IAC5C,MAAMC,IAAI,GAAI,CAACL,IAAI,GAAGF,IAAI,IAAIK,IAAI,CAACC,EAAE,GAAI,GAAG;IAC5C,MAAME,CAAC,GACLH,IAAI,CAACI,GAAG,CAACL,IAAI,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACI,GAAG,CAACL,IAAI,GAAG,CAAC,CAAC,GACvCC,IAAI,CAACK,GAAG,CAAEX,IAAI,GAAGM,IAAI,CAACC,EAAE,GAAI,GAAG,CAAC,GAAGD,IAAI,CAACK,GAAG,CAAET,IAAI,GAAGI,IAAI,CAACC,EAAE,GAAI,GAAG,CAAC,GAAGD,IAAI,CAACI,GAAG,CAACF,IAAI,GAAG,CAAC,CAAC,GAAGF,IAAI,CAACI,GAAG,CAACF,IAAI,GAAG,CAAC,CAAC;IAC/G,MAAMI,CAAC,GAAG,CAAC,GAAGN,IAAI,CAACO,KAAK,CAACP,IAAI,CAACQ,IAAI,CAACL,CAAC,CAAC,EAAEH,IAAI,CAACQ,IAAI,CAAC,CAAC,GAAGL,CAAC,CAAC,CAAC;IACxD,MAAM9D,QAAQ,GAAGyD,CAAC,GAAGQ,CAAC,CAAC,CAAC;IACxB,OAAOjE,QAAQ;EACjB,CAAC;EAED,MAAMoE,cAAc,GAAGA,CAAA,KAAM;IAC3B;IACA,IAAI,CAACtF,MAAM,IAAI,CAACE,WAAW,EAAE;MAC3BuB,QAAQ,CAAC,kDAAkD,CAAC;MAC5D;IACF;IAEAI,kBAAkB,CAAC,IAAI,CAAC;IACxB0D,4BAA4B,CAACvF,MAAM,EAAEE,WAAW,CAAC;;IAEjD;IACAsF,UAAU,CAAC,MAAM;MACf,MAAMC,SAAS,GAAG,CAACzF,MAAM,CAAC4D,GAAG,GAAG1D,WAAW,CAAC0D,GAAG,IAAI,CAAC;MACpD,MAAM8B,SAAS,GAAG,CAAC1F,MAAM,CAAC6D,GAAG,GAAG3D,WAAW,CAAC2D,GAAG,IAAI,CAAC;;MAEpD;MACA,MAAM8B,SAAS,GAAG,CAACd,IAAI,CAACe,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI;MAC9C,MAAMC,SAAS,GAAG,CAAChB,IAAI,CAACe,MAAM,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI;MAE9C7D,iBAAiB,CAAC;QAChB6B,GAAG,EAAE6B,SAAS,GAAGE,SAAS;QAC1B9B,GAAG,EAAE6B,SAAS,GAAGG;MACnB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;EACV,CAAC;EAED,MAAMN,4BAA4B,GAAGA,CAACO,YAAY,EAAEC,UAAU,KAAK;IACjE;IACA,MAAMC,YAAY,GAAG1B,0BAA0B,CAACwB,YAAY,CAAClC,GAAG,EAAEkC,YAAY,CAACjC,GAAG,EAAEkC,UAAU,CAACnC,GAAG,EAAEmC,UAAU,CAAClC,GAAG,CAAC;;IAEnH;IACA,MAAMoC,aAAa,GAAGpB,IAAI,CAACqB,KAAK,CAACF,YAAY,GAAG,GAAG,CAAC,GAAG,GAAG;;IAE1D;IACA,MAAMG,iBAAiB,GAAGtB,IAAI,CAACuB,IAAI,CAACH,aAAa,GAAG,GAAG,CAAC;IAExD9E,WAAW,CAAC8E,aAAa,CAAC;IAC1B5E,WAAW,CAAC8E,iBAAiB,CAAC;;IAE9B;IACA,MAAME,iBAAiB,GAAGzF,UAAU,CAAC0F,GAAG,CAAEC,GAAG,IAAK;MAChD;MACA;MACA,MAAMC,cAAc,GAAGP,aAAa,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;MACtD,MAAMQ,cAAc,GAClBF,GAAG,CAAChE,QAAQ,GAAG0D,aAAa,GAAGM,GAAG,CAAC/D,SAAS,GAAGgE,cAAc,GAAGL,iBAAiB,GAAGI,GAAG,CAAC9D,aAAa;MACvG,OAAO;QACL,GAAG8D,GAAG;QACNE,cAAc,EAAE5B,IAAI,CAACuB,IAAI,CAACK,cAAc,CAAC,CAAE;MAC7C,CAAC;IACH,CAAC,CAAC;IAEF5F,aAAa,CAACwF,iBAAiB,CAAC;;IAEhC;IACA,IAAIvF,WAAW,EAAE;MACf,MAAM4F,kBAAkB,GAAGL,iBAAiB,CAACM,IAAI,CAAEJ,GAAG,IAAKA,GAAG,CAACpE,EAAE,KAAKrB,WAAW,CAACqB,EAAE,CAAC;MACrF,IAAIuE,kBAAkB,EAAE;QACtB3F,cAAc,CAAC2F,kBAAkB,CAAC;QAClCzF,OAAO,CAACyF,kBAAkB,CAACD,cAAc,CAAC;MAC5C;IACF;EACF,CAAC;EAED,MAAMG,eAAe,GAAIL,GAAG,IAAK;IAC/BxF,cAAc,CAACwF,GAAG,CAAC;IACnBtF,OAAO,CAACsF,GAAG,CAACE,cAAc,CAAC;EAC7B,CAAC;EAED,MAAMI,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAAC7G,MAAM,IAAI,CAACE,WAAW,IAAI,CAACY,WAAW,EAAE;MAC3CW,QAAQ,CAAC,gDAAgD,CAAC;MAC1D;IACF;IAEA,IAAI;MACFF,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACA,MAAMuF,WAAW,GAAG;QAClB9G,MAAM,EAAE;UACN+G,WAAW,EAAE/G,MAAM;UACnBgH,OAAO,EAAE5G;QACX,CAAC;QACDF,WAAW,EAAE;UACX6G,WAAW,EAAE7G,WAAW;UACxB8G,OAAO,EAAE1G;QACX,CAAC;QACD2G,OAAO,EAAEnG,WAAW,CAACqB,EAAE;QACvBnB,IAAI,EAAEA,IAAI;QACVE,QAAQ,EAAEA,QAAQ;QAClBE,QAAQ,EAAEA,QAAQ;QAClBU,cAAc,EAAEA;MAClB,CAAC;MAEDc,OAAO,CAACsE,GAAG,CAAC,eAAe,EAAEJ,WAAW,CAAC;;MAEzC;MACAtB,UAAU,CAAC,MAAM;QACf;QACA,MAAM2B,SAAS,GAAGtC,IAAI,CAACuC,KAAK,CAACvC,IAAI,CAACe,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;QACrD;QACAyB,cAAc,CAACC,OAAO,CAAC,gBAAgB,EAAEC,IAAI,CAACC,SAAS,CAACV,WAAW,CAAC,CAAC;QACrE9E,QAAQ,CAAC,SAASmF,SAAS,EAAE,CAAC;MAChC,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAOxE,GAAG,EAAE;MACZC,OAAO,CAACpB,KAAK,CAAC,oBAAoB,EAAEmB,GAAG,CAAC;MACxClB,QAAQ,CAAC,uCAAuC,CAAC;MACjDF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;;EAED;EACA,MAAMkG,cAAc,GAAIC,OAAO,IAAK;IAClC,IAAI,CAACA,OAAO,EAAE,OAAO,EAAE;IAEvB,MAAMC,KAAK,GAAG9C,IAAI,CAACuC,KAAK,CAACM,OAAO,GAAG,EAAE,CAAC;IACtC,MAAME,IAAI,GAAGF,OAAO,GAAG,EAAE;IAEzB,IAAIC,KAAK,GAAG,CAAC,EAAE;MACb,OAAO,GAAGA,KAAK,IAAIA,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG,OAAO,GAAGC,IAAI,GAAG,CAAC,GAAG,IAAIA,IAAI,MAAM,GAAG,EAAE,EAAE;IACtF;IACA,OAAO,GAAGA,IAAI,UAAU;EAC1B,CAAC;EAED,oBACEjI,OAAA;IAAKkI,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCnI,OAAA;MAAIkI,SAAS,EAAC,YAAY;MAAAC,QAAA,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAEzC1G,KAAK,iBAAI7B,OAAA;MAAKkI,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAEtG;IAAK;MAAAuG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAE3DvI,OAAA;MAAKkI,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BnI,OAAA;QAAKkI,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBnI,OAAA;UAAOwI,OAAO,EAAC,cAAc;UAAAL,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACjDvI,OAAA;UAAKkI,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnI,OAAA;YACEwC,EAAE,EAAC,cAAc;YACjBwB,IAAI,EAAC,MAAM;YACXkE,SAAS,EAAC,cAAc;YACxBO,WAAW,EAAC,mBAAmB;YAC/BrF,KAAK,EAAE3C,aAAc;YACrBiI,QAAQ,EAAExF,kBAAmB;YAC7ByF,YAAY,EAAC;UAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,EACD1H,iBAAiB,CAACyC,MAAM,GAAG,CAAC,iBAC3BtD,OAAA;YAAIkI,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC7BtH,iBAAiB,CAAC8F,GAAG,CAAC,CAAClD,IAAI,EAAEmF,KAAK,kBACjC5I,OAAA;cAAgB6I,OAAO,EAAEA,CAAA,KAAM9E,gBAAgB,CAACN,IAAI,EAAE,QAAQ,CAAE;cAAA0E,QAAA,GAC7D1E,IAAI,CAAChB,IAAI,EAAC,IAAE,EAACgB,IAAI,CAACG,KAAK;YAAA,GADjBgF,KAAK;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENvI,OAAA;QAAKkI,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBnI,OAAA;UAAOwI,OAAO,EAAC,mBAAmB;UAAAL,QAAA,EAAC;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3DvI,OAAA;UAAKkI,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrCnI,OAAA;YACEwC,EAAE,EAAC,mBAAmB;YACtBwB,IAAI,EAAC,MAAM;YACXkE,SAAS,EAAC,cAAc;YACxBO,WAAW,EAAC,wBAAwB;YACpCrF,KAAK,EAAEzC,kBAAmB;YAC1B+H,QAAQ,EAAE5E,uBAAwB;YAClC6E,YAAY,EAAC;UAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC,EACDxH,sBAAsB,CAACuC,MAAM,GAAG,CAAC,iBAChCtD,OAAA;YAAIkI,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAC7BpH,sBAAsB,CAAC4F,GAAG,CAAC,CAAClD,IAAI,EAAEmF,KAAK,kBACtC5I,OAAA;cAAgB6I,OAAO,EAAEA,CAAA,KAAM9E,gBAAgB,CAACN,IAAI,EAAE,aAAa,CAAE;cAAA0E,QAAA,GAClE1E,IAAI,CAAChB,IAAI,EAAC,IAAE,EAACgB,IAAI,CAACG,KAAK;YAAA,GADjBgF,KAAK;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACL;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENvI,OAAA;QAAKkI,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BnI,OAAA;UAAQkI,SAAS,EAAC,iBAAiB;UAACW,OAAO,EAAElD,cAAe;UAACmD,QAAQ,EAAE,CAACzI,MAAM,IAAI,CAACE,WAAY;UAAA4H,QAAA,EAAC;QAEhG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAETvI,OAAA;UAAQkI,SAAS,EAAC,mBAAmB;UAACW,OAAO,EAAEA,CAAA,KAAM7G,UAAU,CAAC,CAACD,OAAO,CAAE;UAAAoG,QAAA,EACvEpG,OAAO,GAAG,UAAU,GAAG;QAAU;UAAAqG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAELxG,OAAO,iBACN/B,OAAA,CAACH,GAAG;MACFQ,MAAM,EAAEA,MAAO;MACfE,WAAW,EAAEA,WAAY;MACzB4B,cAAc,EAAEA,cAAe;MAC/B4G,gBAAgB,EAAE5E;IAAqB;MAAAiE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CACF,EAEAtG,eAAe,IAAIV,QAAQ,IAAIE,QAAQ,iBACtCzB,OAAA;MAAKkI,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxBnI,OAAA;QAAKkI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACjDvI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,GAAE5G,QAAQ,CAACyH,OAAO,CAAC,CAAC,CAAC,EAAC,KAAG;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eACNvI,OAAA;QAAKkI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACvDvI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAEL,cAAc,CAACrG,QAAQ;QAAC;UAAA2G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,EACLpG,cAAc,iBACbnC,OAAA;QAAKkI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/CvI,OAAA;UAAMkI,SAAS,EAAC,iBAAiB;UAACe,KAAK,EAAE;YAAEC,KAAK,EAAE;UAAU,CAAE;UAAAf,QAAA,EAAC;QAE/D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAEApG,cAAc,iBACbnC,OAAA;MAAKkI,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BnI,OAAA;QACEmJ,GAAG,EAAC,6HAA6H;QACjIC,GAAG,EAAC,QAAQ;QACZH,KAAK,EAAE;UACLI,KAAK,EAAE,MAAM;UACbC,MAAM,EAAE,MAAM;UACdC,YAAY,EAAE,KAAK;UACnBC,WAAW,EAAE,MAAM;UACnBC,SAAS,EAAE;QACb;MAAE;QAAArB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACFvI,OAAA;QAAKkI,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BnI,OAAA;UAAIiJ,KAAK,EAAE;YAAES,MAAM,EAAE,SAAS;YAAEC,QAAQ,EAAE;UAAO,CAAE;UAAAxB,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpEvI,OAAA;UAAGiJ,KAAK,EAAE;YAAES,MAAM,EAAE,SAAS;YAAEC,QAAQ,EAAE,MAAM;YAAET,KAAK,EAAE;UAAU,CAAE;UAAAf,QAAA,EAAC;QAA4B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACrGvI,OAAA;UAAKkI,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BnI,OAAA;YAAKkI,SAAS,EAAC,oBAAoB;YAAAC,QAAA,eACjCnI,OAAA;cACE4J,KAAK,EAAC,4BAA4B;cAClCP,KAAK,EAAC,IAAI;cACVC,MAAM,EAAC,IAAI;cACXO,OAAO,EAAC,WAAW;cACnBC,IAAI,EAAC,MAAM;cACXC,MAAM,EAAC,cAAc;cACrBC,WAAW,EAAC,GAAG;cACfC,aAAa,EAAC,OAAO;cACrBC,cAAc,EAAC,OAAO;cAAA/B,QAAA,eAEtBnI,OAAA;gBAAMmK,CAAC,EAAC;cAA+R;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5S;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNvI,OAAA;YAAKkI,SAAS,EAAC,oBAAoB;YAAAC,QAAA,eACjCnI,OAAA;cACE4J,KAAK,EAAC,4BAA4B;cAClCP,KAAK,EAAC,IAAI;cACVC,MAAM,EAAC,IAAI;cACXO,OAAO,EAAC,WAAW;cACnBC,IAAI,EAAC,MAAM;cACXC,MAAM,EAAC,cAAc;cACrBC,WAAW,EAAC,GAAG;cACfC,aAAa,EAAC,OAAO;cACrBC,cAAc,EAAC,OAAO;cAAA/B,QAAA,eAEtBnI,OAAA;gBAAMmK,CAAC,EAAC;cAA+D;gBAAA/B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5E;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEAtG,eAAe,IAAIhB,UAAU,CAACqC,MAAM,GAAG,CAAC,IAAI/B,QAAQ,iBACnDvB,OAAA,CAAAE,SAAA;MAAAiI,QAAA,gBACEnI,OAAA;QAAIiJ,KAAK,EAAE;UAAES,MAAM,EAAE,aAAa;UAAEC,QAAQ,EAAE;QAAO,CAAE;QAAAxB,QAAA,EAAC;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5EvI,OAAA;QAAKkI,SAAS,EAAC,aAAa;QAAAC,QAAA,EACzBlH,UAAU,CAAC0F,GAAG,CAAEC,GAAG,iBAClB5G,OAAA;UAEEkI,SAAS,EAAE,cAAc/G,WAAW,IAAIA,WAAW,CAACqB,EAAE,KAAKoE,GAAG,CAACpE,EAAE,GAAG,UAAU,GAAG,EAAE,EAAG;UACtFqG,OAAO,EAAEA,CAAA,KAAM5B,eAAe,CAACL,GAAG,CAAE;UAAAuB,QAAA,gBAEpCnI,OAAA;YAAKkI,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCnI,OAAA;cAAMkI,SAAS,EAAC,iBAAiB;cAAAC,QAAA,EAAEvB,GAAG,CAACnE;YAAI;cAAA2F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnDvI,OAAA;cAAMkI,SAAS,EAAC,kBAAkB;cAAAC,QAAA,GAAC,QAAC,EAACvB,GAAG,CAACE,cAAc;YAAA;cAAAsB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5D,CAAC,eACNvI,OAAA;YAAKkI,SAAS,EAAC,oBAAoB;YAAAC,QAAA,gBACjCnI,OAAA;cAAAmI,QAAA,EAAIvB,GAAG,CAAClE;YAAW;cAAA0F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACxBvI,OAAA;cAAAmI,QAAA,GAAG,YAAU,EAACvB,GAAG,CAACjE,QAAQ,EAAC,UAAQ;YAAA;cAAAyF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC;QAAA,GAXD3B,GAAG,CAACpE,EAAE;UAAA4F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAYR,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA,eACN,CACH,EAEApH,WAAW,iBACVnB,OAAA;MAAKkI,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BnI,OAAA;QAAAmI,QAAA,EAAI;MAAe;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAExBvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/CvI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAEhH,WAAW,CAACsB;QAAI;UAAA2F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,eACJvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC7CvI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAE1H;QAAa;UAAA2H,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrD,CAAC,eACJvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAClDvI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAExH;QAAkB;UAAAyH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1D,CAAC,eACJvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/CvI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAE5G,QAAQ,CAACyH,OAAO,CAAC,CAAC,CAAC,EAAC,KAAG;QAAA;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CAAC,eACJvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACrDvI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAEL,cAAc,CAACrG,QAAQ;QAAC;UAAA2G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CAAC,eACJvI,OAAA;QAAAmI,QAAA,gBACEnI,OAAA;UAAMkI,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC3CvI,OAAA;UAAMkI,SAAS,EAAC,YAAY;UAAAC,QAAA,GAAC,QAAC,EAAC9G,IAAI;QAAA;UAAA+G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1C,CAAC,eAEJvI,OAAA;QAAQkI,SAAS,EAAC,2BAA2B;QAACW,OAAO,EAAE3B,aAAc;QAAC4B,QAAQ,EAAEnH,OAAQ;QAAAwG,QAAA,EACrFxG,OAAO,GAAG,eAAe,GAAG;MAAU;QAAAyG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACjC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACnI,EAAA,CAhgBID,OAAO;EAAA,QAkBMP,WAAW;AAAA;AAAAwK,EAAA,GAlBxBjK,OAAO;AAkgBb,eAAeA,OAAO;AAAC,IAAAiK,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}